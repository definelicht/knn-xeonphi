\section{Performance Analysis using PRAM model}
  \label{sec:perf_analysis}

Parallel Random Access Machine (PRAM) is used in Performance Analysis of Algorithms that run in parallel. According to PRAM model the processors can access the memory in unit time. The algorithm is converted into a Directed Acyclic Graph (DAG). Given the input size $n$, $W(n)$ denotes the $Work$ $Complexity$ and $D(n)$ denotes the $Step$ $Complexity$ of the Algorithm. $D(n)$ limits parallelism and is the length of the critical path of the DAG. We use CREW-PRAM (Concurrent Reads and Exclusive Writes) for the analysis as there are no writing operations in our $k$-NN Algorithm. 

In building the randomized k-d forest $W(n)$ is $2n$ as the number of nodes constructed is twice the number of input points. The critical path length of the DAG when we build our binary tree is $D(n)=\operatorname{log}(n)$. PRAM Model defines the Average Parallelism as

\begin{align}
  Average Parallism = \frac{W(n)}{D(n)} = \frac{2n}{log(n)}% O(\frac{n}{log(n)})
\end{align}
 
 Given $p$ processors, the bounds of the Speedup ($S_p$) is given by,
 
 \begin{align}
   \frac{p}{\frac{D(n)}{W(n)} p+1} \leq S_p \leq \frac{W(n)}{D(n)}\text{, }\leq p
\end{align}  

\begin{align}
\frac{p}{\frac{log(n)}{2n} p+1} \leq S_p \leq \frac{2n}{log(n)}
\end{align}
\label{eq:sp_bounds}

% In our case the number of processors ($p$) ranges from $1$ to $24$ and size of the input ($n$) is $1000000$ which makes the fraction $p(log(n)/n)$ tending to $0$ in the above equation. After reducing it we obtain,
For large $n$, the speedup becomes:

 \begin{align}
n\rightarrow \infty \Rightarrow p \leq S_p \leq p \Rightarrow S_p = p 
\end{align}
\label{eq:sp_bounds_min}

PRAM model predicts the performance (speed up) to be increasing linearly ($p \leq S_p$) with the number of processors. 
 

  % Give a short, self-contained summary of necessary
  % background information. For example, assume you present an
  % implementation of sorting algorithms. You could organize into sorting
  % definition, algorithms considered, and asymptotic runtime statements. The goal of the
  % background section is to make the paper self-contained for an audience
  % as large as possible. As in every section
  % you start with a very brief overview of the section. Here it could be as follows: In this section 
  % we formally define the sorting problem we consider and introduce the algorithms we use
  % including a cost analysis.

  % \mypar{Sorting}
  % Precisely define sorting problem you consider.

  % \mypar{Sorting algorithms}
  % Explain the algorithm you use including their costs.

  % As an aside, don't talk about "the complexity of the algorithm.'' It's incorrect,
  % problems have a complexity, not algorithms.

  % mainfile: ./../report.tex
